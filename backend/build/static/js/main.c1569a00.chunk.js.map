{"version":3,"sources":["components/login.tsx","components/userListItem.tsx","components/messageBox.tsx","components/chat.tsx","App.tsx","index.tsx"],"names":["Login","loginWithRedirect","useAuth0","Card","elevation","className","CardContent","Avatar","aria-label","Typography","variant","Button","disableElevation","onClick","UserListItem","props","useState","anchorEl","setAnchorEl","handleClose","open","Boolean","id","undefined","style","display","justifyContent","Box","alt","email","src","photo","width","backgroundColor","status","newMessages","IconButton","e","event","currentTarget","Icon","color","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","p","blockUnblockContact","cursor","blocked","MessageBox","fromSender","dateTime","message","socket","socketIOClient","process","Chat","user","logout","users","setUsers","conversation","setConversation","contactIndex","setContactIndex","setMessage","messages","setMessages","setNewMessages","useEffect","userData","picture","emit","on","data","index","findIndex","n_user","forEach","foundUser","blacklistedUsers","indexOf","myIndex","data_index","splice","userIndex","messageData","length","sender","new_users_array","messagesEndRef","useRef","current","scrollTop","scrollHeight","sendMessage","preventDefault","trim","alert","to","socketId","Grid","container","direction","item","xs","map","contact","conversationId","setConversationMtd","returnTo","window","location","origin","ref","onSubmit","onChange","target","value","disabled","type","placeholder","endIcon","App","isAuthenticated","isLoading","CircularProgress","ReactDOM","render","domain","clientId","redirectUri","Container","document","getElementById"],"mappings":"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","file":"static/js/main.c1569a00.chunk.js","sourcesContent":["import {Card, CardContent, Avatar, Typography, Button} from '@material-ui/core';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport './Login.css';\nconst Login=()=>{\n    const { loginWithRedirect } = useAuth0();\n    return (\n            <Card elevation={0} className=\"card\">\n                <CardContent className=\"card-content\">\n                    <Avatar aria-label=\"recipe\" className=\"appLogo\">IS</Avatar>\n                     <Typography variant=\"h4\" className=\"heading\">InstaChat</Typography>\n                     <Typography className=\"text\">Welcome to Instachat.<br/> Please login or Sign up below</Typography>\n                </CardContent>\n\n                <Button variant=\"contained\" className=\"loginBtn\" disableElevation onClick={loginWithRedirect}>\n                      LOGIN | SIGNUP\n                 </Button>\n            </Card>\n    )\n}\n\nexport default Login;","import {Avatar, Typography,Box,IconButton,Icon, Popover} from '@material-ui/core';\nimport {useState} from 'react';\n\ninterface UserProps{\n    photo: string,\n    email: string,\n    status: string,\n    onClick: any,\n    newMessages: number,\n    blocked: boolean,\n    blockUnblockContact:()=>void\n}\nconst UserListItem=(props: UserProps)=>{\n\n    const [anchorEl, setAnchorEl] = useState(null);\n\n    const handleClick = (event:any,contactEmail:string) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const callback=()=>{\n        props.blockUnblockContact();\n        handleClose();\n    }\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n    return (\n       <div style={{display:\"flex\",justifyContent:\"space-between\"}}>\n           <Box onClick={()=>{props.onClick()}} className=\"users-list-item\">\n           <Avatar alt={props.email} src={props.photo}/>\n           <Box style={{width:\"90%\"}}>\n                <Typography className=\"user-name\">{props.email}</Typography>\n                <Box className=\"status\">\n                    <Box className=\"status-indicator\">\n                        <Box className=\"indicator\" style={{backgroundColor: props.status === \"online\" ? \"rgb(39, 206, 39)\": \"#f17438\"}}/>\n                        <Typography className=\"indicator-text\">{props.status}</Typography>\n                    </Box>\n                    {props.newMessages > 0 ? <Box className=\"new-message-indicator\">{props.newMessages}</Box> : null}\n                </Box>\n           </Box>\n       </Box>\n\n\n        <IconButton onClick={(e)=>{handleClick(e,props.email)}}>\n            <Icon style={{color:\"white\"}}>\n                more_vert \n            </Icon>\n        </IconButton>\n\n        <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n          <Box p={2} onClick={callback} style={{cursor: \"pointer\"}}>\n            <Typography>{props.blocked ? \"Unblock\": \"Block\"}</Typography>\n          </Box>\n      </Popover>\n       </div>\n    )\n}\n\nexport default UserListItem;","import {Box,Typography} from '@material-ui/core';\n\n\ninterface MessageProps{\n    message: string,\n    dateTime: string,\n    fromSender: boolean\n}\nconst MessageBox=(props: MessageProps)=>{\n    return (\n        <Box className={props.fromSender ? \"from-sender\" : \"from-recipient\"}>\n           <Box className={props.fromSender ? \"from-sender-box\" : \"from-recipient-box\"}>\n            <Typography className=\"msg-date\">{props.dateTime}</Typography>\n            <Typography className=\"msg-text\">{props.message}</Typography>\n           </Box>\n        </Box>\n    );\n}\nexport default MessageBox;","import {Card,CardContent,Grid,Box, Avatar,Typography, Button, Icon} from '@material-ui/core';\n\nimport UserListItem from './userListItem';\nimport './Chat.css';\nimport MessageBox from './messageBox';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useEffect, useState, useRef } from 'react';\nimport socketIOClient from \"socket.io-client\";\n\nconst socketIoHost:string = process.env.REACT_APP_SOCKET_IO_END_POINT as string;\n\nvar socket = socketIOClient(socketIoHost);\n\ninterface Message{\n    message:string,\n    dateTime:string,\n    sender: string,\n    to: string\n}\ninterface User{\n    email: string;\n    picture: string;\n    status: string;\n    socketId: string;\n    newMessages: number;\n    blocked: false\n}\nconst Chat=()=>{\n    const { user,logout } = useAuth0();\n    const [users,setUsers] = useState<User[]>([]);\n    const [conversation,setConversation] = useState(\"\");\n    const [contactIndex, setContactIndex] = useState<number>(-1);\n    const [message, setMessage] = useState<string>(\"\");\n    const [messages,setMessages] = useState<Message[]>([]);  \n    const [newMessages, setNewMessages] = useState<Message[]>([]);\n    \n    useEffect(()=>{\n     let userData = {\n         email: user?.email,\n         picture: user?.picture,\n         status: \"online\"\n     }\n     socket.emit(\"user_online\",userData);\n     socket.on('users',(data:any)=>{\n        let index = data.findIndex((n_user:any) => n_user.email === user?.email);\n        \n        data.forEach((n_user:any) => {\n             let foundUser=data[index].blacklistedUsers.indexOf(n_user.email);\n            if(foundUser > -1){\n                n_user.blocked = true;\n            }else{\n                n_user.blocked = false;\n            }\n           \n            if(n_user.blacklistedUsers){\n                \n                    let nIndex = n_user.blacklistedUsers.indexOf(user?.email);\n                    \n                    if(nIndex > -1){\n                        \n                        let myIndex = data.findIndex((data_index:any) => data_index.email === n_user.email);\n                        if(myIndex > -1){\n                            //console.log(data[myIndex]);\n                            data.splice(myIndex,1);\n                        }\n                    }\n           \n            }\n        });\n        let userIndex = data.findIndex((n_user:any) => n_user.email === user?.email);\n        data.splice(userIndex,1);\n        setUsers(data);\n     })\n\n     socket.on('message_received',messageData=>{\n        setNewMessages(messageData); \n     })\n\n    },[])\n\n    useEffect(()=>{\n\n        \n        if(newMessages.length === 0){\n           setMessages(newMessages);\n        }else if(conversation.indexOf(newMessages[newMessages.length-1].sender) > -1){\n           setMessages(newMessages);\n        }else{\n            //alert user of new message\n            let sender = newMessages[newMessages.length-1].sender;\n            let index = users.findIndex((n_user:any) => n_user.email === sender);\n            let new_users_array = [...users];\n            new_users_array[index].newMessages +=1;\n            setUsers(new_users_array);\n        }\n    },[newMessages])\n\n\n\n    const messagesEndRef = useRef<null | HTMLDivElement>(null);\n\n    const scrollToBottom = () => {\n        messagesEndRef!.current!.scrollTop = messagesEndRef!.current!.scrollHeight;\n    }\n\n    useEffect(scrollToBottom, [messages]);\n\n    const logUserOut=()=>{\n        socket.emit('logout',user);\n        logout({ returnTo: window.location.origin });\n    }\n\n    const setConversationMtd=(index: number)=>{\n        setContactIndex(index);\n        let conversationId = users[index].email+\":\"+user?.email;\n        setConversation(conversationId);\n        socket.emit('get_conversations',conversationId);\n\n           //reset new messages\n           let new_users_array = [...users];\n           new_users_array[index].newMessages = 0;\n          setUsers(new_users_array);\n    }\n\n    const sendMessage=(e:any)=>{\n\n        e.preventDefault();\n        if(message.trim().length < 1){\n            return;\n        }\n        if(users[contactIndex].blocked){\n            alert('You blocked this contact');\n            return;\n        }\n        let messageData = {\n            message: message,\n            sender: user?.email,\n            to: users[contactIndex].socketId,\n            conversation: conversation\n        };\n        setMessage(\"\");\n        socket.emit('send_message',messageData);\n    }\n\n    const blockUnblockContact =(email:string)=>{\n       socket.emit('block_user',{user: user?.email,contact:email})\n    }\n\n    return (\n        <Card elevation={0} className=\"chat-box\">\n            <CardContent className=\"chat-box-content\">\n                <Grid container direction=\"row\" className=\"grid-container\">\n                    <Grid item xs={3} className=\"left-pane\"> \n                      <Box className=\"current-user\">\n                          <Avatar src={user?.picture}/>\n                          <Typography className=\"user-name\">{user?.email}</Typography>\n                      </Box>\n\n                      <Box className=\"users-title\">\n                            <Typography>Users</Typography>\n                      </Box>\n                      <Box className=\"users-list\">\n                         {users.map((contact,index)=>(\n                             <div key={index}>\n                              {contact.status === 'online' ? \n                              <UserListItem blockUnblockContact={()=>{blockUnblockContact(contact.email)}} blocked={contact.blocked} onClick={()=>{setConversationMtd(index)}} key={index} email={contact.email} photo={contact.picture} status={contact.status} newMessages={contact.newMessages}/>\n                              : null}\n                             </div>\n                         ))}\n                      </Box>\n                    </Grid>\n                    <Grid item xs={9} className=\"right-pane\">\n                        <Box className=\"right-pane-top-bar\">\n                            {conversation === \"\" ? <Box></Box>  : <Box className=\"top-bar-title\">\n                                <Avatar className=\"avatar\" src={users[contactIndex].picture} alt=\"adolfokrah@gmail.com\"/>\n                                <Typography>{users[contactIndex].email}</Typography>\n                            </Box>}\n                            <Button onClick={logUserOut} variant=\"contained\" style={{backgroundColor:\"#4ed6f0\", color:\"white\"}} disableElevation>LOGOUT</Button>\n                        </Box>\n                        <div className=\"chat-body\" ref={messagesEndRef}>\n                            {conversation === \"\" ? <Typography>Please select a contact to chat with</Typography> :\n                             <>\n                                {messages.map((message,index)=>(\n                                 <MessageBox key={index} message={message.message} dateTime={message.dateTime} fromSender={message.sender === user?.email ? true : false}/>\n                                ))}\n                             </>\n                            }\n                        </div>\n                        <form className=\"message-box\" onSubmit={sendMessage}>\n                            <input onChange={(e)=>setMessage(e.target.value)} value={message} disabled={conversation === '' ? true : false} className=\"text-input\" type=\"text\" placeholder=\"Type your message\"/>\n                            <Button\n                                    disableElevation\n                                    className=\"sendBtn\"\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    endIcon={<Icon>send</Icon>}\n                                    disabled={conversation === '' ? true : false}\n                                    onClick={sendMessage}\n                            >\n                             SEND\n                            </Button>\n                        </form>\n                    </Grid>\n                </Grid>\n            </CardContent>\n        </Card>\n    )\n}\n\nexport default Chat;","import Login from './components/login';\nimport Chat from './components/chat';\nimport {CircularProgress} from '@material-ui/core';\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\n\nconst  App=()=>{\n  const { isAuthenticated, isLoading } = useAuth0();\n  if(isLoading){\n    return (\n      <div className=\"app\">\n        <CircularProgress />\n      </div>\n    )\n  }\n  return (\n    <div className=\"App\">\n        {isAuthenticated ? <Chat /> : <Login/>}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Container} from '@material-ui/core';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst domain:string = process.env.REACT_APP_AUTH0_DOMAIN as string;\nconst clientId:string = process.env.REACT_APP_AUTH0_CLIENT_ID as string;\n\nReactDOM.render(\n  <Auth0Provider\n    domain={domain}\n    clientId={clientId}\n    redirectUri={window.location.origin}\n  >\n    <Container className=\"app-container\">\n      <App />\n    </Container>\n  </Auth0Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}